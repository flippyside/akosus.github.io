{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "head": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "needComment": 1, "allHead": "", "title": "Blog Title", "subTitle": "Blog description", "avatarUrl": "https://github.githubassets.com/favicons/favicon.svg", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/machine-level-programming[CSAPP].html", "labels": ["note"], "postTitle": "machine-level-programming[CSAPP]", "postUrl": "post/machine-level-programming%5BCSAPP%5D.html", "postSourceUrl": "https://github.com/flippyside/akosus.github.io/issues/1", "commentNum": 0, "wordCount": 19385, "description": "# basic\r\n\r\n## history of intel processors and architectures\r\n\r\nIntel X86 Processors\uff1a\r\n\r\n- dominate laptop/desktop/server market\r\n- CISC(complex instruction set computer)\r\n- evolution\r\n  - 8086: 16-bit\r\n  - 386(i386)(80386)(IA32) 32-bit\r\n  - pentium4E(x86-64): 64-bit\r\n  - core 2: multi-core\r\n  - core i7: four cores\r\n\r\nArchitecture(ISA: instruction set architecture): the parts of a processor design that needs to understand or write assembly/machine code\r\n\r\nmachine code: byte-level programs, can be executed by processor\r\nassembly code: a text representation of machine code\r\n\r\nprogrammer-visible state:\r\n\r\n- PC: program counter\r\n  - address of next instruction\r\n  - RIP in x86-64\r\n- Register File: heavily used program data\r\n- Condition Codes:\r\n  - store status information about most\r\n  - used for conditional branching\r\n- Memory\r\n  - byte addressable array\r\n  - code and user data\r\n  - stack to support procedures\r\n\r\n```c\r\nlong plus(long x, long y);\r\nvoid sumstore(long x, long y, long *dest){\r\n    long t = plus(x, y);\r\n    *dest = t;\r\n}\r\n```\r\n\r\n```asm\r\nsumstore:\r\n  pushq %rbx\r\n  movq %rdx, %rbx\r\n  call plus\r\n  movq %rax, (%rbx)\r\n  popq %rbx\r\n  ret\r\n```\r\n\r\n## assembly characteristics\r\n\r\nData type:\r\n\r\n- integer data of 1,2,4, 8 byte\r\n- floating point data of 4, 8, 10 byte\r\n- code: byte sequences encoding series of instructions\r\n- no aggregate types such as arrays or structures\r\n\r\nOperation:\r\n\r\n- perform arithmetic function on register or memory data\r\n- transfer data between memory and register\r\n- transfer control\r\n\r\n```\r\n# C code\r\n*dest = t;\r\n\r\n# Assembly\r\nmovq %rax, (%rbx) # move 8-byte value to memory\r\n# operands:\r\n#  t:     register %rax\r\n#  dest:  register %rbx\r\n#  *dest:  memory  M[%rbx]\r\n\r\n# object code\r\n0x40059e: 48 89 03\r\n# 3-byte instuction\r\n# stored at address 0x40059e\r\n```\r\n\r\n![Alt text](assets/ch3/image-1.png)\r\n\r\n```\r\n%r: 64bit\r\n%e: 32bit\r\n```\r\n\r\nx8664\u5c06\u5bc4\u5b58\u5668\u589e\u52a0\u5230%r\uff0c\u76f8\u6bd4i386\u589e\u52a0\u4e86\u4e00\u500d\r\n\r\n![Alt text](assets/ch3/image-2.png)\r\n\r\n\u5bc4\u5b58\u5668\u7684\u540d\u5b57\u5728\u5f88\u65e9\u4e4b\u524d\u53cd\u6620\u4e86\u4ed6\u4eec\u7684\u7279\u5b9a\u529f\u80fd\uff0c\u73b0\u5728\u6ca1\u6709\u8fd9\u79cd\u5bf9\u5e94\u4e86\u3002", "top": 0, "createdAt": 1727767103, "style": "", "script": "<script>MathJax = {tex: {inlineMath: [[\"$\", \"$\"]]}};</script><script async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>", "head": "", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "createdDate": "2024-10-01", "dateLabelColor": "#bc4c00"}}, "singeListJson": {}, "labelColorDict": {"bug": "#d73a4a", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "good first issue": "#7057ff", "help wanted": "#008672", "invalid": "#e4e669", "note": "#006b75", "question": "#d876e3", "wontfix": "#ffffff"}, "displayTitle": "Blog Title", "faviconUrl": "https://github.githubassets.com/favicons/favicon.svg", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "primerCSS": "<link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />", "homeUrl": "https://flippyside.github.io/akosus.github.io", "prevUrl": "disabled", "nextUrl": "disabled"}